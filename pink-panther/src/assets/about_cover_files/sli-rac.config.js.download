(function(window,document,$){var SLI=window.SLI;SLI.jQuery=SLI.jQuery||jQuery;SLI.raccurrency="GBP";SLI.raccurrencysymbol="&pound;";function getCookie(name){var value="; "+document.cookie;var parts=value.split("; "+name+"=");if(parts.length==2){return parts.pop().split(";").shift()}}function getParmFromUrl(parm){var url=document.location.href;var re=new RegExp(".*[?&]"+parm+"=([^&]+)(&|$)");var match=url.match(re);return(match?match[1]:null)}var currencySelect=getParmFromUrl("currency")||getCookie("SLICURRENCY");
if(currencySelect!==undefined){SLI.raccurrency=currencySelect}else{SLI.raccurrency="GBP"}if(SLI.raccurrency=="GBP"){SLI.raccurrencysymbol="&pound;"}else{if(SLI.raccurrency=="USD"){SLI.raccurrencysymbol="$"}else{if(SLI.raccurrency=="EUR"){SLI.raccurrencysymbol="&euro;"}else{if(SLI.raccurrency=="AUD"){SLI.raccurrencysymbol="$"}else{SLI.raccurrencysymbol="&pound;"}}}}SLI.rac={base:location.protocol+"//thediamondstore.resultspage.com",version:"3.13",path:((location.href.match(/\.(?:local|cfe\.nz|resultsdemo|resultsstage)/))?location.protocol+"//"+document.domain:location.protocol+"//thediamondstore.resultspage.com")+"/autocomplete/sli-rac.stub.local",align:"right",selector:".sli_ac_suggestion, .sli_ac_product",localisation:{viewMore:"VIEW ALL PRODUCTS",searchLabel:"SEARCH SUGGESTIONS",productLabel:"PRODUCTS"},behaviourOptions:{strategy:"swiftphrase",searchIn:"cat1",searchInCount:3,thumb:140,showLogo:true,showDescription:false,productDisplay:"grid",productCount:4,inputContainer:".topmenusearch",mobileProductCount:2,mobileSuggestionCount:2},onSelect:function(params){var racType;
if(params.url.match(/rt=racscope/)){racType="scope"}else{if(params.url.match(/rt=racclick/)){racType="product"}else{racType=params.type||"suggestion"}}var track="/search?w="+params.query+"&ts=rac&ractype="+racType;try{if(typeof _gaq!=="undefined"){_gaq.push(["_trackPageview",track])}if(typeof(pageTracker)!=="undefined"){pageTracker._trackPageview(track)}if(typeof(ga)!=="undefined"){ga("send","pageview",{page:track})}if(typeof(dataLayer)!=="undefined"){dataLayer.push({event:"virtualpageview",url:track})}}catch(err){console.log(err)
}return params},onClose:function(){SLI.jQuery("body").removeClass("freezebody")},onShow:function(){SLI.jQuery(".topmenusearch").addClass("sli_active");SLI.jQuery(".fixed-top").addClass("sli_active");SLI.jQuery(".js-sli-close-area").addClass("rac_active");SLI.jQuery("body").addClass("rac_active");SLI.jQuery("body").addClass("freezebody")}};loadRAC();function loadRAC(){SLI.rac.version=SLI.rac.version||"";SLI.rac.path+="."+SLI.rac.version+".js";var location=document.location;if(location.href.match(/\.(?:local|cfe\.nz|resultsdemo|resultsstage)/)){SLI.rac.base=location.protocol+"//"+document.domain
}loadResource("//assets.resultspage.com/js/autocomplete/sli-rac."+SLI.rac.version+".css");loadResource(SLI.rac.base+"/autocomplete/sli-rac.custom.css");loadResource(SLI.rac.path,function(result){$(function(){window.sliAutocomplete={};window.sliAutocomplete.select=new SLI.Autocomplete(SLI.rac)})});jQuery(document).ready(function(){jQuery(".ui-header .ui-grid-b a").click(function(){jQuery(".js-sli-close-area").click()});jQuery("body").on("click",".close-rac, .js-sli-close-area",function(){jQuery(".sli_active").removeClass("sli_active");
jQuery(".sli_active").removeClass("rac_active");jQuery("body").removeClass("freezebody")});jQuery("body").on("click touchstart",".close-rac",function(){sliAutocomplete.select.hide();jQuery("body").removeClass("freezebody")});$(window).scroll(function(){if((jQuery(".fixed-top").css("display")=="none")&&!jQuery("#sli_autocomplete").hasClass("noheader")){SLI.jQuery("#sli_autocomplete").addClass("noheader")}if((jQuery(".fixed-top").css("display")=="block")&&jQuery("#sli_autocomplete").hasClass("noheader")){SLI.jQuery("#sli_autocomplete").removeClass("noheader")
}})})}function loadResource(path,callback){var tag;if(path.match(/\.css$/)){tag=document.createElement("link");tag.href=path;tag.rel="stylesheet";tag.type="text/css";tag.media="all"}else{tag=document.createElement("script");tag.src=path}tag.onload=tag.onreadystatechange=function(){if(!tag.readyState||/loaded|complete/.test(tag.readyState)){tag=tag.onload=tag.onreadystatechange=null;if(typeof callback==="function"){callback(true)}}};tag.onerror=function(){tag=tag.onerror=null;if(typeof callback==="function"){callback(false)
}};var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;head.appendChild(tag)}})(window,document,jQuery);